# 设备库说明

本文件说明应用内设备库的数据来源、更新方式与对低功耗场景的免责声明。

1. 数据存放位置
- 应用内置（bundle）设备列表位于：`src/data/devices.json`（用于构建时的默认值）。
- 运行时优先加载外部设备列表：`/devices.json`（即项目 `public/devices.json`）。将 `devices.json` 放在 `public` 或部署根目录即可在不重建的情况下更新设备库。

2. 动态更新
- 若需要更新设备库，推荐流程：
  1. 在 `public/devices.json` 中更新或替换内容（部署时直接覆盖）。
  2. 重启/刷新前端页面，应用会在启动时或刷新时拉取最新的 `devices.json` 并替换内置库。

3. 数据来源与准确性说明（重要）
- 当前设备库为示例与参考值，来源包括公开文档、厂商规格与项目经验值（示例值）。
- 同一类型设备的实际功耗会受型号、配置、运行模式（常开/间歇/待机）、网络频率和环境影响，差异可能较大。
- 我们的主要用户群体倾向于低功耗场景（例如 LoRa/电池供电传感器、红外摄像头等）。为避免给客户造成误导：
  - 请在对外提供建议时，明确标注“典型值仅供参考”；
  - 对关键项目（例如用于采购或容量设计）建议使用设备实际供电曲线或现场测试数据进行验证；
  - 为保持简洁，本版本设备库只保留典型值（`power_typ`）与典型运行小时（`hours_typ`）。应用已实现“保守/典型/乐观”档位切换：
    - 当设备条目包含 `power_min`/`power_max` 时，档位会优先使用 min/max；
    - 否则档位会基于 `power_typ` 应用系数（乐观 0.8，典型 1.0，保守 1.2）。

4. 建议的维护做法
- 建议把设备库作为独立的维护文件（JSON），并与版本控制或 CMS/配置管理工具同步：
  - 小团队：通过 PR 更新 `public/devices.json` 并在 README 中记录来源与变更说明；
  - 大规模部署：将设备库托管在配置服务或 CDN，前端在运行时按策略拉取（并做缓存/版本检测）。

5. 若需贡献数据或指定来源
- 如果你有设备功耗的官方规格或测量数据，请把 JSON 条目以 PR 方式提交到仓库，或提供给我，我可以帮你把条目加入并在文档中注明来源（厂商/测量/经验）。

---

文件位置：`docs/设备库说明.md`
